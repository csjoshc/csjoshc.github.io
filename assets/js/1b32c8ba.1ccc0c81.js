"use strict";(self.webpackChunkdocusaurus_temp=self.webpackChunkdocusaurus_temp||[]).push([[5071],{1251:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"virtenv_jupyter_nb","title":"Introduction","description":"Having coded in Python for 6 months or so already, I had always used Spyder and pip install mindlessly (so I guess no virtual env either). I heard about virtual env from a colleague and looked into it, and then decided to implement it on my Linux machine.","source":"@site/docs/virtenv_jupyter_nb.md","sourceDirName":".","slug":"/virtenv_jupyter_nb","permalink":"/docs/virtenv_jupyter_nb","draft":false,"unlisted":false,"editUrl":"https://github.com/csjoshc/csjoshc.github.io/tree/main/docs/virtenv_jupyter_nb.md","tags":[],"version":"current","frontMatter":{}}');var i=t(4848),s=t(8453);const r={},a="Introduction",c={},d=[{value:"Setting up a virtual env (Anaconda Navigator)",id:"setting-up-a-virtual-env-anaconda-navigator",level:2},{value:"Setting up Jupyter with my new env",id:"setting-up-jupyter-with-my-new-env",level:2},{value:"Kernel selection",id:"kernel-selection",level:2},{value:"Other points about Jupyter, kernel and virtual env",id:"other-points-about-jupyter-kernel-and-virtual-env",level:2},{value:"Previews and formatting",id:"previews-and-formatting",level:2}];function l(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"introduction",children:"Introduction"})}),"\n",(0,i.jsx)(n.p,{children:"Having coded in Python for 6 months or so already, I had always used Spyder and pip install mindlessly (so I guess no virtual env either). I heard about virtual env from a colleague and looked into it, and then decided to implement it on my Linux machine."}),"\n",(0,i.jsx)(n.h2,{id:"setting-up-a-virtual-env-anaconda-navigator",children:"Setting up a virtual env (Anaconda Navigator)"}),"\n",(0,i.jsxs)(n.p,{children:["After Anaconda was installed, I created a new virtual env for learning purposes using the GUI:\n",(0,i.jsx)(n.em,{children:"[Image:  - file not found]"}),"\nOptions included python 3.7 and MRO for R"]}),"\n",(0,i.jsx)(n.h2,{id:"setting-up-jupyter-with-my-new-env",children:"Setting up Jupyter with my new env"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\n#\n\n# output:\n(learningenv) jcmint@jcmint:/media/jcmint/Data Volume/csjoshc.github.io$\n"})}),"\n",(0,i.jsx)(n.p,{children:"Next, I installed a few packages inside my learningenv"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"conda info --envs\n# conda environments: # just to be sure im not install packages into my github repository...\n#\nbase                     /home/jcmint/anaconda3\nlearningenv           *  /home/jcmint/anaconda3/envs/learningenv\n\nconda install nb_conda\n"})}),"\n",(0,i.jsx)(n.h2,{id:"kernel-selection",children:"Kernel selection"}),"\n",(0,i.jsxs)(n.p,{children:["Jupyter notebook needs to be started ",(0,i.jsx)(n.strong,{children:"inside"})," of a virtualenv. A notebook created outside of it can still be used inside of it, if you close Jupyter and activate the correct env.\nIn the bash Terminal:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"jcmint@jcmint:~$ source activate learningenv\n(learningenv) jcmint@jcmint:~$ jupyter notebook\n[I 22:35:27.784 NotebookApp] [nb_conda_kernels] enabled, 1 kernels found\n[I 22:35:27.967 NotebookApp] [nb_conda] enabled\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Incorrect"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\nprint(sys.executable)\n# /home/jcmint/anaconda3/bin/python\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# This code block verifies correct env selection\n# Correct (if switched env before running jupyter notebook in bash)\n\nsys.executable\n"})}),"\n",(0,i.jsx)(n.p,{children:"'/home/jcmint/anaconda3/envs/learningenv/bin/python'"}),"\n",(0,i.jsxs)(n.p,{children:["The code block above should match the image below:\n",(0,i.jsx)(n.em,{children:"[Image:  - file not found]"})]}),"\n",(0,i.jsx)(n.h2,{id:"other-points-about-jupyter-kernel-and-virtual-env",children:"Other points about Jupyter, kernel and virtual env"}),"\n",(0,i.jsxs)(n.p,{children:["You can see the list of available kernels in a jupyter notebook session in the ",(0,i.jsx)(n.code,{children:"Conda"})," tab. Notebooks are not created within an environment, really. Rather, they can be created and run in any environment (although dependent code will obviously break if the package dependencies are unmet in different environments).\n",(0,i.jsx)(n.em,{children:"[Image:  - file not found]"}),"\nBasically, the kernel and environment that a jupyter session are in are not persistent once you close the session. It's therefore necessary to be disciplined and use ",(0,i.jsx)(n.code,{children:"source activate learningenv"})," before ",(0,i.jsx)(n.code,{children:"jupyter notebook"})," on the Terminal."]}),"\n",(0,i.jsx)(n.h2,{id:"previews-and-formatting",children:"Previews and formatting"}),"\n",(0,i.jsxs)(n.p,{children:["The in-session formatting of jupyter has nothing to do with css. Also, downloading as HTML also doesn't use the embedded CSS stylesheet. Converting to markdown, then to html, will use the stylesheet. However, this  means that I will need to copy and paste each .md from Downloads to the repository and then compile into HTML using vscode. The only way to get the formatting right for good is to override the default css by adding a file to the directory below ",(0,i.jsx)(n.a,{href:"https://stackoverflow.com/questions/32156248/how-do-i-set-custom-css-for-my-ipython-ihaskell-jupyter-notebook/32158550#32158550",children:"(according to this guide)"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import jupyter_core\njupyter_core.paths.jupyter_config_dir()\n"})}),"\n",(0,i.jsx)(n.p,{children:"'/home/jcmint/.jupyter'"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"!ls /media/jcmint/'Data Volume'/csjoshc.github.io/css_themes\n!ls /home/jcmint/.jupyter\n!mkdir /home/jcmint/.jupyter/custom\n!cp /media/jcmint/'Data Volume'/csjoshc.github.io/css_themes/github.css /home/jcmint/.jupyter/custom/custom.css\n!ls /home/jcmint/.jupyter/custom\n"})}),"\n",(0,i.jsx)(n.p,{children:"css_gh.css  github.css\tvscode.css\ncustom\tjupyter_notebook_config.py  lab  migrated\nmkdir: cannot create directory \u2018/home/jcmint/.jupyter/custom\u2019: File exists\ncustom.css"})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var o=t(6540);const i={},s=o.createContext(i);function r(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);