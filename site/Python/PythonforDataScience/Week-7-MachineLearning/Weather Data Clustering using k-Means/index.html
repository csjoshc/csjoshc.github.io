<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Personal learning and note-taking website">
    <meta name="author" content="Josh Chiu">
    <link rel="canonical" href="https://csjoshc.github.io/Python/PythonforDataScience/Week-7-MachineLearning/Weather%20Data%20Clustering%20using%20k-Means/">
    <link rel="shortcut icon" href="../../../../img/favicon.ico">

    
    <title>Weather Data Clustering using k Means - Josh's Learning Notes</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../../../css/base.min.css" rel="stylesheet">
    <link href="../../../../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="../../../..">Josh's Learning Notes</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../../..">Home</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">General <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../../General/base/">Overview</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">CS50x 2019</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../../General/CS50x2019/cppbasics/">C++ Basics</a>
</li>

        
            
<li >
    <a href="../../../../General/CS50x2019/database/">Database</a>
</li>

        
            
<li >
    <a href="../../../../General/CS50x2019/flask/">Flask</a>
</li>

        
            
<li >
    <a href="../../../../General/CS50x2019/python/">Python</a>
</li>

        
            
<li >
    <a href="../../../../General/CS50x2019/webbasics/">Web Basics</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../../General/webdev2019/">Web Development 2019</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Python <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../base/">Overview</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">General</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../General/virtenv_jupyter_nb/">Virtual Environments & Jupyter</a>
</li>

        
            
<li >
    <a href="../../../General/ifnameismain/">If Name Main</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Science Course</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../1_Introduction/">Introduction</a>
</li>

        
            
<li >
    <a href="../../2_Basics/">Python Basics</a>
</li>

        
            
<li >
    <a href="../../3_Numpy/">NumPy</a>
</li>

        
            
<li >
    <a href="../../4_Pandas/">Pandas</a>
</li>

        
            
<li >
    <a href="../../4_Pandas2/">Pandas 2</a>
</li>

        
            
<li >
    <a href="../../4_Pandas3/">Pandas 3</a>
</li>

        
            
<li >
    <a href="../../4_Pandas4/">Pandas 4</a>
</li>

        
            
<li >
    <a href="../../4_Pandas5/">Pandas 5</a>
</li>

        
            
<li >
    <a href="../../5_Matplotlib/">Matplotlib</a>
</li>

        
            
<li >
    <a href="../../7_ML/">Machine Learning</a>
</li>

        
            
<li >
    <a href="../../7_ML_Reg/">ML Regression</a>
</li>

        
            
<li >
    <a href="../../7_ML_DT/">ML Decision Trees</a>
</li>

        
            
<li >
    <a href="../../7_ML_Clust/">ML Clustering</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Probability & Statistics</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../ProbabilityandStatistics/1_Introduction/">Introduction</a>
</li>

        
            
<li >
    <a href="../../../ProbabilityandStatistics/2_Sets/">Sets</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">MIT Courses</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../IntroCompSciPython/unit7/">Computer Science Unit 7</a>
</li>

        
            
<li >
    <a href="../../../IntroCompThinkDataSci/unit1/unit1/">Data Science Unit 1</a>
</li>

        
            
<li >
    <a href="../../../IntroCompThinkDataSci/unit1/problemset1/">Problem Set 1</a>
</li>

        
            
<li >
    <a href="../../../IntroCompThinkDataSci/unit2/plotting/">Unit 2 Plotting</a>
</li>

        
            
<li >
    <a href="../../../IntroCompThinkDataSci/unit2/unit2/">Unit 2</a>
</li>

        
            
<li >
    <a href="../../../IntroCompThinkDataSci/unit2/ps2/">Problem Set 2</a>
</li>

        
            
<li >
    <a href="../../../IntroCompThinkDataSci/unit3/unit3/">Unit 3</a>
</li>

        
            
<li >
    <a href="../../../IntroCompThinkDataSci/unit3/ps3/">Problem Set 3</a>
</li>

        
            
<li >
    <a href="../../../IntroCompThinkDataSci/unit4/unit4/">Unit 4</a>
</li>

        
            
<li >
    <a href="../../../IntroCompThinkDataSci/unit4/ps4/">Problem Set 4</a>
</li>

        
            
<li >
    <a href="../../../IntroCompThinkDataSci/unit5/unit5/">Unit 5</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">GitHub <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../../Github/intro_gh/">Introduction</a>
</li>

                        
                            
<li >
    <a href="../../../../Github/bugs_gh/">Bug Reports</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Linux <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../../Linux/base/">Overview</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Linux Journey</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../../Linux/linux_journey/basic/01_comlin/">Command Line</a>
</li>

        
            
<li >
    <a href="../../../../Linux/linux_journey/linux_journey_toc/">Table of Contents</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">DevOps <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../../Devops/base/">Overview</a>
</li>

                        
                            
<li >
    <a href="../../../../Devops/roadmap_notes/">Roadmap Notes</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Utilities <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../../utils/base/">Overview</a>
</li>

                        
                            
<li >
    <a href="../../../../utils/01_BatchConversions/">Batch Conversions</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site Updates <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../../site_updates/base/">Overview</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">March 2019</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../../site_updates/3_2019/2_3_2019/">March 2nd</a>
</li>

        
            
<li >
    <a href="../../../../site_updates/3_2019/9_3_2019/">March 9th</a>
</li>

        
            
<li >
    <a href="../../../../site_updates/3_2019/16_3_2019/">March 16th</a>
</li>

        
            
<li >
    <a href="../../../../site_updates/3_2019/23_3_2019/">March 23rd</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">April 2019</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../../site_updates/4_2019/13_4_2019/">April 13th</a>
</li>

        
            
<li >
    <a href="../../../../site_updates/4_2019/20_4_2019/">April 20th</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">May 2019</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../../site_updates/5_2019/04_5_2019/">May 4th</a>
</li>

        
            
<li >
    <a href="../../../../site_updates/5_2019/11_5_2019/">May 11th</a>
</li>

        
            
<li >
    <a href="../../../../site_updates/5_2019/25_5_2019/">May 25th</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">June 2019</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../../site_updates/6_2019/15_6_2019/">June 15th</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Project Ideas</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../../site_updates/project_ideas/indeed_cloud/">Indeed Cloud</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li >
                        <a href="../../../../todo/">Todo</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#dry-days">Dry Days</a></li>
        <li class="first-level "><a href="#warm-days">Warm Days</a></li>
        <li class="first-level "><a href="#cool-days">Cool Days</a></li>
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<!-- Python Data Science Navigation Template -->
<!-- This template provides navigation for Python data science pages -->

<div class="return-navigation">
  <a href="../../../index.md" class="nav-button index-button">🏠 Home</a>
  <a href="../base.md" class="nav-button portal-button">🐍 Python</a>
</div>

<!-- Content starts here -->

<p style="font-family: Arial; font-size:2.75em;color:purple; font-style:bold"><br>
Clustering with scikit-learn
<br><br></p>
<p>In this notebook, we will learn how to perform k-means lustering using scikit-learn in Python. 
We will use cluster analysis to generate a big picture model of the weather at a local station using a minute-graunlarity data. In this dataset, we have in the order of millions records. How do we create 12 clusters our of them?
<strong>NOTE:</strong> The dataset we will use is in a large CSV file called <em>minute_weather.csv</em>. Please download it into the <em>weather</em> directory in your <em>Week-7-MachineLearning</em> folder. The download link is: https://drive.google.com/open?id=0B8iiZ7pSaSFZb3ItQ1l4LWRMTjg </p>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold"><br>
Importing the Necessary Libraries<br></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">itertools</span><span class="w"> </span><span class="kn">import</span> <span class="n">cycle</span><span class="p">,</span> <span class="n">islice</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="kn">from</span><span class="w"> </span><span class="nn">pandas.plotting</span><span class="w"> </span><span class="kn">import</span> <span class="n">parallel_coordinates</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
</code></pre></div>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold"><br>
Creating a Pandas DataFrame from a CSV file<br><br></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;../../../../../data/w7ml&#39;</span><span class="p">))</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../../../../../data/w7ml/minute_weather.csv&#39;</span><span class="p">)</span>
</code></pre></div>
    ['minute_weather.csv']</p>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold">Minute Weather Data Description</p>
<p><br>
The <strong>minute weather dataset</strong> comes from the same source as the daily weather dataset that we used in the decision tree based classifier notebook. The main difference between these two datasets is that the minute weather dataset contains raw sensor measurements captured at one-minute intervals. Daily weather dataset instead contained processed and well curated data. The data is in the file <strong>minute_weather.csv</strong>, which is a comma-separated file.
As with the daily weather data, this data comes from a weather station located in San Diego, California. The weather station is equipped with sensors that capture weather-related measurements such as air temperature, air pressure, and relative humidity. Data was collected for a period of three years, from September 2011 to September 2014, to ensure that sufficient data for different seasons and weather conditions is captured.
Each row in <strong>minute_weather.csv</strong> contains weather data captured for a one-minute interval. Each row, or sample, consists of the following variables:
* <strong>rowID:</strong>    unique number for each row  (<em>Unit: NA</em>)
* <strong>hpwren_timestamp:</strong> timestamp of measure    (<em>Unit: year-month-day hour:minute:second</em>)
* <strong>air_pressure:</strong> air pressure measured at the timestamp  (<em>Unit: hectopascals</em>)
* <strong>air_temp:</strong> air temperature measure at the timestamp    (<em>Unit: degrees Fahrenheit</em>)
* <strong>avg_wind_direction:</strong>   wind direction averaged over the minute before the timestamp    (<em>Unit: degrees, with 0 means coming from the North, and increasing clockwise</em>)
* <strong>avg_wind_speed:</strong>   wind speed averaged over the minute before the timestamp    (<em>Unit: meters per second</em>)
* <strong>max_wind_direction:</strong>   highest wind direction in the minute before the timestamp   (<em>Unit: degrees, with 0 being North and increasing clockwise</em>)
* <strong>max_wind_speed:</strong>   highest wind speed in the minute before the timestamp   (<em>Unit: meters per second</em>)
* <strong>min_wind_direction:</strong>   smallest wind direction in the minute before the timestamp  (<em>Unit: degrees, with 0 being North and inceasing clockwise</em>)
* <strong>min_wind_speed:</strong>   smallest wind speed in the minute before the timestamp  (<em>Unit: meters per second</em>)
* <strong>rain_accumulation:</strong>    amount of accumulated rain measured at the timestamp    (<em>Unit: millimeters</em>)
* <strong>rain_duration:</strong>    length of time rain has fallen as measured at the timestamp (<em>Unit: seconds</em>)
* <strong>relative_humidity:</strong>    relative humidity measured at the timestamp (<em>Unit: percent</em>)
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">data</span><span class="o">.</span><span class="n">shape</span>
</code></pre></div>
    (1587257, 13)
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></p>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
    .dataframe tbody tr th {
        vertical-align: top;
    }
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rowID</th>
      <th>hpwren_timestamp</th>
      <th>air_pressure</th>
      <th>air_temp</th>
      <th>avg_wind_direction</th>
      <th>avg_wind_speed</th>
      <th>max_wind_direction</th>
      <th>max_wind_speed</th>
      <th>min_wind_direction</th>
      <th>min_wind_speed</th>
      <th>rain_accumulation</th>
      <th>rain_duration</th>
      <th>relative_humidity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>2011-09-10 00:00:49</td>
      <td>912.3</td>
      <td>64.76</td>
      <td>97.0</td>
      <td>1.2</td>
      <td>106.0</td>
      <td>1.6</td>
      <td>85.0</td>
      <td>1.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>60.5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>2011-09-10 00:01:49</td>
      <td>912.3</td>
      <td>63.86</td>
      <td>161.0</td>
      <td>0.8</td>
      <td>215.0</td>
      <td>1.5</td>
      <td>43.0</td>
      <td>0.2</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>39.9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>2011-09-10 00:02:49</td>
      <td>912.3</td>
      <td>64.22</td>
      <td>77.0</td>
      <td>0.7</td>
      <td>143.0</td>
      <td>1.2</td>
      <td>324.0</td>
      <td>0.3</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>43.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>2011-09-10 00:03:49</td>
      <td>912.3</td>
      <td>64.40</td>
      <td>89.0</td>
      <td>1.2</td>
      <td>112.0</td>
      <td>1.6</td>
      <td>12.0</td>
      <td>0.7</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>49.5</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>2011-09-10 00:04:49</td>
      <td>912.3</td>
      <td>64.40</td>
      <td>185.0</td>
      <td>0.4</td>
      <td>260.0</td>
      <td>1.0</td>
      <td>100.0</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>58.8</td>
    </tr>
  </tbody>
</table>
</div>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold"><br>
Data Sampling<br></p>
<p>Lots of rows, so let us sample down by taking every 10th row. <br>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">sampled_df</span> <span class="o">=</span> <span class="n">data</span><span class="p">[(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;rowID&#39;</span><span class="p">]</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">sampled_df</span><span class="o">.</span><span class="n">shape</span>
</code></pre></div>
    (158726, 13)</p>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold"><br>
Statistics
<br><br></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">sampled_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
    .dataframe tbody tr th {
        vertical-align: top;
    }
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>count</th>
      <th>mean</th>
      <th>std</th>
      <th>min</th>
      <th>25%</th>
      <th>50%</th>
      <th>75%</th>
      <th>max</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>rowID</th>
      <td>158726.0</td>
      <td>793625.000000</td>
      <td>458203.937510</td>
      <td>0.00</td>
      <td>396812.5</td>
      <td>793625.00</td>
      <td>1190437.50</td>
      <td>1587250.00</td>
    </tr>
    <tr>
      <th>air_pressure</th>
      <td>158726.0</td>
      <td>916.830161</td>
      <td>3.051717</td>
      <td>905.00</td>
      <td>914.8</td>
      <td>916.70</td>
      <td>918.70</td>
      <td>929.50</td>
    </tr>
    <tr>
      <th>air_temp</th>
      <td>158726.0</td>
      <td>61.851589</td>
      <td>11.833569</td>
      <td>31.64</td>
      <td>52.7</td>
      <td>62.24</td>
      <td>70.88</td>
      <td>99.50</td>
    </tr>
    <tr>
      <th>avg_wind_direction</th>
      <td>158680.0</td>
      <td>162.156100</td>
      <td>95.278201</td>
      <td>0.00</td>
      <td>62.0</td>
      <td>182.00</td>
      <td>217.00</td>
      <td>359.00</td>
    </tr>
    <tr>
      <th>avg_wind_speed</th>
      <td>158680.0</td>
      <td>2.775215</td>
      <td>2.057624</td>
      <td>0.00</td>
      <td>1.3</td>
      <td>2.20</td>
      <td>3.80</td>
      <td>31.90</td>
    </tr>
    <tr>
      <th>max_wind_direction</th>
      <td>158680.0</td>
      <td>163.462144</td>
      <td>92.452139</td>
      <td>0.00</td>
      <td>68.0</td>
      <td>187.00</td>
      <td>223.00</td>
      <td>359.00</td>
    </tr>
    <tr>
      <th>max_wind_speed</th>
      <td>158680.0</td>
      <td>3.400558</td>
      <td>2.418802</td>
      <td>0.10</td>
      <td>1.6</td>
      <td>2.70</td>
      <td>4.60</td>
      <td>36.00</td>
    </tr>
    <tr>
      <th>min_wind_direction</th>
      <td>158680.0</td>
      <td>166.774017</td>
      <td>97.441109</td>
      <td>0.00</td>
      <td>76.0</td>
      <td>180.00</td>
      <td>212.00</td>
      <td>359.00</td>
    </tr>
    <tr>
      <th>min_wind_speed</th>
      <td>158680.0</td>
      <td>2.134664</td>
      <td>1.742113</td>
      <td>0.00</td>
      <td>0.8</td>
      <td>1.60</td>
      <td>3.00</td>
      <td>31.60</td>
    </tr>
    <tr>
      <th>rain_accumulation</th>
      <td>158725.0</td>
      <td>0.000318</td>
      <td>0.011236</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>3.12</td>
    </tr>
    <tr>
      <th>rain_duration</th>
      <td>158725.0</td>
      <td>0.409627</td>
      <td>8.665523</td>
      <td>0.00</td>
      <td>0.0</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>2960.00</td>
    </tr>
    <tr>
      <th>relative_humidity</th>
      <td>158726.0</td>
      <td>47.609470</td>
      <td>26.214409</td>
      <td>0.90</td>
      <td>24.7</td>
      <td>44.70</td>
      <td>68.00</td>
      <td>93.00</td>
    </tr>
  </tbody>
</table>
</div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">sampled_df</span><span class="p">[</span><span class="n">sampled_df</span><span class="p">[</span><span class="s1">&#39;rain_accumulation&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</code></pre></div>
    (157812, 13)
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">sampled_df</span><span class="p">[</span><span class="n">sampled_df</span><span class="p">[</span><span class="s1">&#39;rain_duration&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</code></pre></div>
    (157237, 13)</p>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold"><br>
Drop all the Rows with Empty rain_duration and rain_accumulation
<br><br></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">del</span> <span class="n">sampled_df</span><span class="p">[</span><span class="s1">&#39;rain_accumulation&#39;</span><span class="p">]</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">del</span> <span class="n">sampled_df</span><span class="p">[</span><span class="s1">&#39;rain_duration&#39;</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">rows_before</span> <span class="o">=</span> <span class="n">sampled_df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">sampled_df</span> <span class="o">=</span> <span class="n">sampled_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="n">rows_after</span> <span class="o">=</span> <span class="n">sampled_df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</code></pre></div></p>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold"><br>
How many rows did we drop ?
<br><br></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">rows_before</span> <span class="o">-</span> <span class="n">rows_after</span>
</code></pre></div>
    46
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">sampled_df</span><span class="o">.</span><span class="n">columns</span>
</code></pre></div>
    Index(['rowID', 'hpwren_timestamp', 'air_pressure', 'air_temp',
           'avg_wind_direction', 'avg_wind_speed', 'max_wind_direction',
           'max_wind_speed', 'min_wind_direction', 'min_wind_speed',
           'relative_humidity'],
          dtype='object')</p>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold"><br>
Select Features of Interest for Clustering
<br><br></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;air_pressure&#39;</span><span class="p">,</span> <span class="s1">&#39;air_temp&#39;</span><span class="p">,</span> <span class="s1">&#39;avg_wind_direction&#39;</span><span class="p">,</span> <span class="s1">&#39;avg_wind_speed&#39;</span><span class="p">,</span> <span class="s1">&#39;max_wind_direction&#39;</span><span class="p">,</span> 
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>        <span class="s1">&#39;max_wind_speed&#39;</span><span class="p">,</span><span class="s1">&#39;relative_humidity&#39;</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">select_df</span> <span class="o">=</span> <span class="n">sampled_df</span><span class="p">[</span><span class="n">features</span><span class="p">]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">select_df</span><span class="o">.</span><span class="n">columns</span>
</code></pre></div>
    Index(['air_pressure', 'air_temp', 'avg_wind_direction', 'avg_wind_speed',
           'max_wind_direction', 'max_wind_speed', 'relative_humidity'],
          dtype='object')
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">select_df</span>
</code></pre></div></p>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
    .dataframe tbody tr th {
        vertical-align: top;
    }
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>air_pressure</th>
      <th>air_temp</th>
      <th>avg_wind_direction</th>
      <th>avg_wind_speed</th>
      <th>max_wind_direction</th>
      <th>max_wind_speed</th>
      <th>relative_humidity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>912.3</td>
      <td>64.76</td>
      <td>97.0</td>
      <td>1.2</td>
      <td>106.0</td>
      <td>1.6</td>
      <td>60.5</td>
    </tr>
    <tr>
      <th>10</th>
      <td>912.3</td>
      <td>62.24</td>
      <td>144.0</td>
      <td>1.2</td>
      <td>167.0</td>
      <td>1.8</td>
      <td>38.5</td>
    </tr>
    <tr>
      <th>20</th>
      <td>912.2</td>
      <td>63.32</td>
      <td>100.0</td>
      <td>2.0</td>
      <td>122.0</td>
      <td>2.5</td>
      <td>58.3</td>
    </tr>
    <tr>
      <th>30</th>
      <td>912.2</td>
      <td>62.60</td>
      <td>91.0</td>
      <td>2.0</td>
      <td>103.0</td>
      <td>2.4</td>
      <td>57.9</td>
    </tr>
    <tr>
      <th>40</th>
      <td>912.2</td>
      <td>64.04</td>
      <td>81.0</td>
      <td>2.6</td>
      <td>88.0</td>
      <td>2.9</td>
      <td>57.4</td>
    </tr>
    <tr>
      <th>50</th>
      <td>912.1</td>
      <td>63.68</td>
      <td>102.0</td>
      <td>1.2</td>
      <td>119.0</td>
      <td>1.5</td>
      <td>51.4</td>
    </tr>
    <tr>
      <th>60</th>
      <td>912.0</td>
      <td>64.04</td>
      <td>83.0</td>
      <td>0.7</td>
      <td>101.0</td>
      <td>0.9</td>
      <td>51.4</td>
    </tr>
    <tr>
      <th>70</th>
      <td>911.9</td>
      <td>64.22</td>
      <td>82.0</td>
      <td>2.0</td>
      <td>97.0</td>
      <td>2.4</td>
      <td>62.2</td>
    </tr>
    <tr>
      <th>80</th>
      <td>911.9</td>
      <td>61.70</td>
      <td>67.0</td>
      <td>3.3</td>
      <td>70.0</td>
      <td>3.5</td>
      <td>71.5</td>
    </tr>
    <tr>
      <th>90</th>
      <td>911.9</td>
      <td>61.34</td>
      <td>67.0</td>
      <td>3.6</td>
      <td>75.0</td>
      <td>4.2</td>
      <td>72.5</td>
    </tr>
    <tr>
      <th>100</th>
      <td>911.8</td>
      <td>62.96</td>
      <td>95.0</td>
      <td>2.3</td>
      <td>106.0</td>
      <td>2.5</td>
      <td>63.9</td>
    </tr>
    <tr>
      <th>110</th>
      <td>911.8</td>
      <td>64.22</td>
      <td>83.0</td>
      <td>2.1</td>
      <td>88.0</td>
      <td>2.5</td>
      <td>59.1</td>
    </tr>
    <tr>
      <th>120</th>
      <td>911.8</td>
      <td>63.86</td>
      <td>68.0</td>
      <td>2.1</td>
      <td>76.0</td>
      <td>2.4</td>
      <td>63.5</td>
    </tr>
    <tr>
      <th>130</th>
      <td>911.6</td>
      <td>64.40</td>
      <td>156.0</td>
      <td>0.5</td>
      <td>203.0</td>
      <td>0.7</td>
      <td>50.4</td>
    </tr>
    <tr>
      <th>140</th>
      <td>911.5</td>
      <td>65.30</td>
      <td>85.0</td>
      <td>2.2</td>
      <td>92.0</td>
      <td>2.5</td>
      <td>58.0</td>
    </tr>
    <tr>
      <th>150</th>
      <td>911.4</td>
      <td>64.58</td>
      <td>154.0</td>
      <td>1.3</td>
      <td>176.0</td>
      <td>2.1</td>
      <td>50.2</td>
    </tr>
    <tr>
      <th>160</th>
      <td>911.4</td>
      <td>65.48</td>
      <td>154.0</td>
      <td>0.9</td>
      <td>208.0</td>
      <td>1.9</td>
      <td>46.2</td>
    </tr>
    <tr>
      <th>170</th>
      <td>911.5</td>
      <td>65.66</td>
      <td>95.0</td>
      <td>1.1</td>
      <td>109.0</td>
      <td>1.6</td>
      <td>45.2</td>
    </tr>
    <tr>
      <th>180</th>
      <td>911.4</td>
      <td>65.66</td>
      <td>155.0</td>
      <td>1.1</td>
      <td>167.0</td>
      <td>1.6</td>
      <td>42.8</td>
    </tr>
    <tr>
      <th>190</th>
      <td>911.4</td>
      <td>67.10</td>
      <td>157.0</td>
      <td>1.2</td>
      <td>172.0</td>
      <td>1.6</td>
      <td>36.8</td>
    </tr>
    <tr>
      <th>200</th>
      <td>911.4</td>
      <td>68.00</td>
      <td>53.0</td>
      <td>0.3</td>
      <td>69.0</td>
      <td>0.5</td>
      <td>33.4</td>
    </tr>
    <tr>
      <th>210</th>
      <td>911.3</td>
      <td>67.64</td>
      <td>167.0</td>
      <td>1.5</td>
      <td>196.0</td>
      <td>2.2</td>
      <td>34.4</td>
    </tr>
    <tr>
      <th>220</th>
      <td>911.4</td>
      <td>67.82</td>
      <td>4.0</td>
      <td>0.6</td>
      <td>25.0</td>
      <td>0.7</td>
      <td>34.2</td>
    </tr>
    <tr>
      <th>230</th>
      <td>911.4</td>
      <td>66.74</td>
      <td>172.0</td>
      <td>1.3</td>
      <td>192.0</td>
      <td>1.9</td>
      <td>37.8</td>
    </tr>
    <tr>
      <th>240</th>
      <td>911.4</td>
      <td>66.56</td>
      <td>39.0</td>
      <td>0.2</td>
      <td>145.0</td>
      <td>0.3</td>
      <td>41.6</td>
    </tr>
    <tr>
      <th>250</th>
      <td>911.4</td>
      <td>65.66</td>
      <td>56.0</td>
      <td>1.9</td>
      <td>67.0</td>
      <td>2.2</td>
      <td>51.8</td>
    </tr>
    <tr>
      <th>260</th>
      <td>911.5</td>
      <td>65.66</td>
      <td>74.0</td>
      <td>0.8</td>
      <td>101.0</td>
      <td>1.2</td>
      <td>41.1</td>
    </tr>
    <tr>
      <th>270</th>
      <td>911.4</td>
      <td>66.92</td>
      <td>147.0</td>
      <td>0.9</td>
      <td>174.0</td>
      <td>1.1</td>
      <td>36.0</td>
    </tr>
    <tr>
      <th>280</th>
      <td>911.3</td>
      <td>64.76</td>
      <td>73.0</td>
      <td>1.0</td>
      <td>82.0</td>
      <td>1.2</td>
      <td>43.3</td>
    </tr>
    <tr>
      <th>290</th>
      <td>911.3</td>
      <td>64.94</td>
      <td>164.0</td>
      <td>1.3</td>
      <td>176.0</td>
      <td>1.7</td>
      <td>43.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1586960</th>
      <td>914.7</td>
      <td>76.46</td>
      <td>247.0</td>
      <td>0.6</td>
      <td>264.0</td>
      <td>0.7</td>
      <td>43.4</td>
    </tr>
    <tr>
      <th>1586970</th>
      <td>914.8</td>
      <td>76.28</td>
      <td>208.0</td>
      <td>0.7</td>
      <td>216.0</td>
      <td>0.9</td>
      <td>43.7</td>
    </tr>
    <tr>
      <th>1586980</th>
      <td>914.8</td>
      <td>76.10</td>
      <td>209.0</td>
      <td>0.7</td>
      <td>216.0</td>
      <td>0.9</td>
      <td>43.9</td>
    </tr>
    <tr>
      <th>1586990</th>
      <td>914.9</td>
      <td>76.28</td>
      <td>339.0</td>
      <td>0.5</td>
      <td>350.0</td>
      <td>0.7</td>
      <td>43.4</td>
    </tr>
    <tr>
      <th>1587000</th>
      <td>914.9</td>
      <td>75.92</td>
      <td>344.0</td>
      <td>0.4</td>
      <td>352.0</td>
      <td>0.6</td>
      <td>43.9</td>
    </tr>
    <tr>
      <th>1587010</th>
      <td>915.0</td>
      <td>75.56</td>
      <td>323.0</td>
      <td>0.3</td>
      <td>348.0</td>
      <td>0.5</td>
      <td>45.5</td>
    </tr>
    <tr>
      <th>1587020</th>
      <td>915.1</td>
      <td>75.56</td>
      <td>324.0</td>
      <td>1.1</td>
      <td>347.0</td>
      <td>1.5</td>
      <td>46.0</td>
    </tr>
    <tr>
      <th>1587030</th>
      <td>915.1</td>
      <td>75.74</td>
      <td>1.0</td>
      <td>1.3</td>
      <td>13.0</td>
      <td>1.7</td>
      <td>45.8</td>
    </tr>
    <tr>
      <th>1587040</th>
      <td>915.2</td>
      <td>75.38</td>
      <td>355.0</td>
      <td>0.9</td>
      <td>1.0</td>
      <td>1.1</td>
      <td>46.1</td>
    </tr>
    <tr>
      <th>1587050</th>
      <td>915.3</td>
      <td>75.38</td>
      <td>359.0</td>
      <td>1.4</td>
      <td>11.0</td>
      <td>1.5</td>
      <td>45.8</td>
    </tr>
    <tr>
      <th>1587060</th>
      <td>915.4</td>
      <td>75.38</td>
      <td>11.0</td>
      <td>1.1</td>
      <td>21.0</td>
      <td>1.3</td>
      <td>45.7</td>
    </tr>
    <tr>
      <th>1587070</th>
      <td>915.5</td>
      <td>75.38</td>
      <td>13.0</td>
      <td>1.4</td>
      <td>24.0</td>
      <td>1.6</td>
      <td>46.6</td>
    </tr>
    <tr>
      <th>1587080</th>
      <td>915.6</td>
      <td>75.20</td>
      <td>18.0</td>
      <td>1.0</td>
      <td>24.0</td>
      <td>1.2</td>
      <td>46.5</td>
    </tr>
    <tr>
      <th>1587090</th>
      <td>915.6</td>
      <td>75.20</td>
      <td>356.0</td>
      <td>1.7</td>
      <td>1.0</td>
      <td>1.9</td>
      <td>47.2</td>
    </tr>
    <tr>
      <th>1587100</th>
      <td>915.7</td>
      <td>75.38</td>
      <td>13.0</td>
      <td>1.5</td>
      <td>24.0</td>
      <td>1.7</td>
      <td>46.7</td>
    </tr>
    <tr>
      <th>1587110</th>
      <td>915.7</td>
      <td>75.02</td>
      <td>19.0</td>
      <td>1.2</td>
      <td>28.0</td>
      <td>1.4</td>
      <td>46.7</td>
    </tr>
    <tr>
      <th>1587120</th>
      <td>915.7</td>
      <td>74.84</td>
      <td>25.0</td>
      <td>1.4</td>
      <td>35.0</td>
      <td>1.6</td>
      <td>46.5</td>
    </tr>
    <tr>
      <th>1587130</th>
      <td>915.8</td>
      <td>74.84</td>
      <td>23.0</td>
      <td>1.3</td>
      <td>30.0</td>
      <td>1.5</td>
      <td>46.9</td>
    </tr>
    <tr>
      <th>1587140</th>
      <td>915.8</td>
      <td>74.84</td>
      <td>32.0</td>
      <td>1.4</td>
      <td>41.0</td>
      <td>1.7</td>
      <td>45.5</td>
    </tr>
    <tr>
      <th>1587150</th>
      <td>915.8</td>
      <td>75.20</td>
      <td>23.0</td>
      <td>1.1</td>
      <td>31.0</td>
      <td>1.4</td>
      <td>45.7</td>
    </tr>
    <tr>
      <th>1587160</th>
      <td>915.8</td>
      <td>75.38</td>
      <td>16.0</td>
      <td>1.2</td>
      <td>28.0</td>
      <td>1.5</td>
      <td>46.3</td>
    </tr>
    <tr>
      <th>1587170</th>
      <td>915.7</td>
      <td>75.38</td>
      <td>347.0</td>
      <td>1.2</td>
      <td>353.0</td>
      <td>1.4</td>
      <td>48.1</td>
    </tr>
    <tr>
      <th>1587180</th>
      <td>915.8</td>
      <td>75.74</td>
      <td>326.0</td>
      <td>1.2</td>
      <td>337.0</td>
      <td>1.6</td>
      <td>48.3</td>
    </tr>
    <tr>
      <th>1587190</th>
      <td>915.9</td>
      <td>75.92</td>
      <td>289.0</td>
      <td>0.7</td>
      <td>309.0</td>
      <td>0.9</td>
      <td>48.1</td>
    </tr>
    <tr>
      <th>1587200</th>
      <td>915.9</td>
      <td>75.74</td>
      <td>335.0</td>
      <td>0.9</td>
      <td>348.0</td>
      <td>1.1</td>
      <td>47.8</td>
    </tr>
    <tr>
      <th>1587210</th>
      <td>915.9</td>
      <td>75.56</td>
      <td>330.0</td>
      <td>1.0</td>
      <td>341.0</td>
      <td>1.3</td>
      <td>47.8</td>
    </tr>
    <tr>
      <th>1587220</th>
      <td>915.9</td>
      <td>75.56</td>
      <td>330.0</td>
      <td>1.1</td>
      <td>341.0</td>
      <td>1.4</td>
      <td>48.0</td>
    </tr>
    <tr>
      <th>1587230</th>
      <td>915.9</td>
      <td>75.56</td>
      <td>344.0</td>
      <td>1.4</td>
      <td>352.0</td>
      <td>1.7</td>
      <td>48.0</td>
    </tr>
    <tr>
      <th>1587240</th>
      <td>915.9</td>
      <td>75.20</td>
      <td>359.0</td>
      <td>1.3</td>
      <td>9.0</td>
      <td>1.6</td>
      <td>46.3</td>
    </tr>
    <tr>
      <th>1587250</th>
      <td>915.9</td>
      <td>74.84</td>
      <td>6.0</td>
      <td>1.5</td>
      <td>20.0</td>
      <td>1.9</td>
      <td>46.1</td>
    </tr>
  </tbody>
</table>
<p>158680 rows × 7 columns</p>
</div>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold"><br>
Scale the Features using StandardScaler
<br><br></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="n">X</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">select_df</span><span class="p">)</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="n">X</span>
</code></pre></div>
    14.154615859301948</p>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold"><br>
Use k-Means Clustering
<br><br></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="n">model</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;model</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
</code></pre></div>
    model
     KMeans(algorithm='auto', copy_x=True, init='k-means++', max_iter=300,
        n_clusters=12, n_init=10, n_jobs=None, precompute_distances='auto',
        random_state=None, tol=0.0001, verbose=0)</p>
<p style="font-family: Arial; font-size:1.75em;color:purple; font-style:bold"><br>
What are the centers of 12 clusters we formed ?
<br><br></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="n">centers</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">cluster_centers_</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="n">centers</span>
</code></pre></div>
    array([[-0.69617887,  0.54330632,  0.17691394, -0.58403412,  0.34627312,
            -0.59739003, -0.11397498],
           [ 0.25351851, -0.99440789,  0.66010373, -0.54766866,  0.85136707,
            -0.53024374,  1.15770715],
           [ 0.72995971,  0.43639747,  0.28548467, -0.53484748,  0.47328985,
            -0.54109706, -0.77185388],
           [-0.2112256 ,  0.63143998,  0.40854271,  0.73491299,  0.51667841,
             0.67289003, -0.15002398],
           [ 1.18998385, -0.25541715, -1.15503601,  2.12557789, -1.05344849,
             2.24273108, -1.13420131],
           [ 1.36864611, -0.08213106, -1.2068389 , -0.04709512, -1.07582646,
            -0.02667577, -0.97766761],
           [-1.17907135, -0.87684488,  0.44663448,  1.97558807,  0.53860587,
             1.93685078,  0.91508678],
           [-0.84007473, -1.1983503 ,  0.37524244,  0.35343529,  0.47369357,
             0.34132145,  1.36278947],
           [ 0.06044811, -0.78794919, -1.19709094, -0.57079157, -1.04316035,
            -0.58531415,  0.87761989],
           [ 0.13082952,  0.84369388,  1.41103689, -0.63843851,  1.67507664,
            -0.58918289, -0.71428014],
           [ 0.23378992,  0.3194701 ,  1.88794624, -0.65194259, -1.55164204,
            -0.57678283, -0.28275652],
           [-0.16198023,  0.86303025, -1.31114806, -0.58983767, -1.1668154 ,
            -0.6051521 , -0.64229717]])</p>
<p style="font-family: Arial; font-size:2.75em;color:purple; font-style:bold"><br>
Plots
<br><br></p>
<p>Let us first create some utility functions which will help us in plotting graphs:
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1"># Function that creates a DataFrame with a column for Cluster Number</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">pd_centers</span><span class="p">(</span><span class="n">featuresUsed</span><span class="p">,</span> <span class="n">centers</span><span class="p">):</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    <span class="n">colNames</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">featuresUsed</span><span class="p">)</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    <span class="n">colNames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;prediction&#39;</span><span class="p">)</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>    <span class="c1"># Zip with a column called &#39;prediction&#39; (index)</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>    <span class="n">Z</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">A</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">centers</span><span class="p">)]</span>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>    <span class="c1"># Convert to pandas data frame for plotting</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>    <span class="n">P</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">Z</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">colNames</span><span class="p">)</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>    <span class="n">P</span><span class="p">[</span><span class="s1">&#39;prediction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">P</span><span class="p">[</span><span class="s1">&#39;prediction&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>    <span class="k">return</span> <span class="n">P</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Function that creates Parallel Plots</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">parallel_plot</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    <span class="n">my_colors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">islice</span><span class="p">(</span><span class="n">cycle</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">]),</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)))</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">+</span><span class="mi">3</span><span class="p">])</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>    <span class="n">parallel_coordinates</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="s1">&#39;prediction&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="n">my_colors</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">P</span> <span class="o">=</span> <span class="n">pd_centers</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">centers</span><span class="p">)</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">P</span>
</code></pre></div></p>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
    .dataframe tbody tr th {
        vertical-align: top;
    }
    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>air_pressure</th>
      <th>air_temp</th>
      <th>avg_wind_direction</th>
      <th>avg_wind_speed</th>
      <th>max_wind_direction</th>
      <th>max_wind_speed</th>
      <th>relative_humidity</th>
      <th>prediction</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.696179</td>
      <td>0.543306</td>
      <td>0.176914</td>
      <td>-0.584034</td>
      <td>0.346273</td>
      <td>-0.597390</td>
      <td>-0.113975</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.253519</td>
      <td>-0.994408</td>
      <td>0.660104</td>
      <td>-0.547669</td>
      <td>0.851367</td>
      <td>-0.530244</td>
      <td>1.157707</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.729960</td>
      <td>0.436397</td>
      <td>0.285485</td>
      <td>-0.534847</td>
      <td>0.473290</td>
      <td>-0.541097</td>
      <td>-0.771854</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.211226</td>
      <td>0.631440</td>
      <td>0.408543</td>
      <td>0.734913</td>
      <td>0.516678</td>
      <td>0.672890</td>
      <td>-0.150024</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.189984</td>
      <td>-0.255417</td>
      <td>-1.155036</td>
      <td>2.125578</td>
      <td>-1.053448</td>
      <td>2.242731</td>
      <td>-1.134201</td>
      <td>4</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1.368646</td>
      <td>-0.082131</td>
      <td>-1.206839</td>
      <td>-0.047095</td>
      <td>-1.075826</td>
      <td>-0.026676</td>
      <td>-0.977668</td>
      <td>5</td>
    </tr>
    <tr>
      <th>6</th>
      <td>-1.179071</td>
      <td>-0.876845</td>
      <td>0.446634</td>
      <td>1.975588</td>
      <td>0.538606</td>
      <td>1.936851</td>
      <td>0.915087</td>
      <td>6</td>
    </tr>
    <tr>
      <th>7</th>
      <td>-0.840075</td>
      <td>-1.198350</td>
      <td>0.375242</td>
      <td>0.353435</td>
      <td>0.473694</td>
      <td>0.341321</td>
      <td>1.362789</td>
      <td>7</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.060448</td>
      <td>-0.787949</td>
      <td>-1.197091</td>
      <td>-0.570792</td>
      <td>-1.043160</td>
      <td>-0.585314</td>
      <td>0.877620</td>
      <td>8</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.130830</td>
      <td>0.843694</td>
      <td>1.411037</td>
      <td>-0.638439</td>
      <td>1.675077</td>
      <td>-0.589183</td>
      <td>-0.714280</td>
      <td>9</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0.233790</td>
      <td>0.319470</td>
      <td>1.887946</td>
      <td>-0.651943</td>
      <td>-1.551642</td>
      <td>-0.576783</td>
      <td>-0.282757</td>
      <td>10</td>
    </tr>
    <tr>
      <th>11</th>
      <td>-0.161980</td>
      <td>0.863030</td>
      <td>-1.311148</td>
      <td>-0.589838</td>
      <td>-1.166815</td>
      <td>-0.605152</td>
      <td>-0.642297</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>
<h1 id="dry-days">Dry Days</h1>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">parallel_plot</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">P</span><span class="p">[</span><span class="s1">&#39;relative_humidity&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">])</span>
</code></pre></div>
<img alt="png" src="Weather%20Data%20Clustering%20using%20k-Means_files/Weather%20Data%20Clustering%20using%20k-Means_38_0.webp" /></p>
<h1 id="warm-days">Warm Days</h1>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">parallel_plot</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">P</span><span class="p">[</span><span class="s1">&#39;air_temp&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">])</span>
</code></pre></div>
<img alt="png" src="Weather%20Data%20Clustering%20using%20k-Means_files/Weather%20Data%20Clustering%20using%20k-Means_40_0.webp" /></p>
<h1 id="cool-days">Cool Days</h1>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="n">parallel_plot</span><span class="p">(</span><span class="n">P</span><span class="p">[(</span><span class="n">P</span><span class="p">[</span><span class="s1">&#39;relative_humidity&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="s1">&#39;air_temp&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">)])</span>
</code></pre></div>
<img alt="png" src="Weather%20Data%20Clustering%20using%20k-Means_files/Weather%20Data%20Clustering%20using%20k-Means_42_0.webp" /></p></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../../../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/python.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/javascript.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/html.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/css.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/bash.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/yaml.min.js"></script>
                <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/languages/markdown.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = "../../../.."</script>
    
    <script src="../../../../js/base.js"></script>
    <script src="../../../../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
